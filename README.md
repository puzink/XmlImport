1. Задача
2. Запуск 
   1. Параметры  
   2. Xml-файл 
## Задача
Программа вставляет данные из xml-файла в таблицу в PostgreSQL. При этом реализованы следующие особенности задачи:
1. вставляются только уникальные строки, которые определяются по значению в столбцах, указанных в xml-e
2. возможна вставка xml-файла, который полностью не помещается в оперативную память(размер >4gb)
3. не используются готовые библиотеки для разбора xml-файла.

## Запуск
### Параметры
При запуске программы необходимо указать параметры подключения к БД и путь к xml-файлу. 
Для этого используются параметры системы(`System.property`), которые задаются в командной строке вида -Dимя_ключа=значение. 
Обязательные параметры:
1. для подключения к БД:
   1. username - имя пользователя БД
   2. password - пароль к БД
   3. url - путь к БД вида `jdbc:postgresql://<host>:<port>/<database>`
2. file - путь к xml-файлу.

Необязательные параметры, настраивающие процесс чтения и записи:
1. threads - кол-во потоков для записи строк( >= 1). __Default__ = 1.
     
**ВАЖНО**: при наличии уникальных столбцов многопоточное приложение работает медленее чем однопоточное.

2. rowSize - размер пачки строк, вставляющихся одновременно(>=1). __Default__ = 100.
3. queueSize - размер очереди пачек строк на вставку в БД. __Default__ = 20. В программе есть 2 вида потоков: читающий из xml-файла и вставляющий считанные строки в БД.
Первый поток работает паралельно записи, пока вторые успевают вставлять данные. Для этого создана очередь пачек строк, ожидающих вставки. 
Если очередь(`queue.size() >= queueSize`) забивается, тогда читающий поток приостанавливается до тех пор, когда очередь освободится.

Пример запуска: <code>java -Dfile=[file_path] -Dusername=[username] -Dpassword=[password] -Durl=[url] Main</code>

### Xml-файл
Файл должен быть следующего вида:
```
<table name="table_name" columns="firstColumn;secondColumn" unique="firstColumn"> 
  <row>
    <firstColumn> 10 </firstColumn>
    <secondColumn> val1 </secondColumn>
  </row>
  <row>
    <firstColumn> 10 </firstColumn>
    <secondColumn> val2 </secondColumn>
  </row>
</table>
```
В первой строке идёт тэг с имененем `table` с атрибутами:
1. name - название таблицы в БД, в которую будут вставляться строки
2. columns - названия столбцов таблицы. Имена разделены `;`
3. unique - названия столбцов, по которым будет определяться уникальность строк. Имена разделены `;`
   
Затем идут строки, окруженные тэгом `row` без атрибутов. В каждой строке задаются тэги с именами столбцов и значением в теле тэга.
